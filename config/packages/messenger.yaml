framework:
  messenger:
    transports:
      posts_transport:
        dsn: '%env(MESSENGER_TRANSPORT_DSN)%'
        options:
          exchange:
            name: 'posts_exchange'
            type: 'topic'
            default_publish_routing_key: 'post.created'
          queues:
            user_posts_queue:
              name: 'user_posts_queue'
              binding_keys: ['post.created.*']

#    routing:
#      'App\Message\Post\PostCreatedMessage': posts_transport


# when@test:
#    framework:
#        messenger:
#            transports:
#                # replace with your transport name here (e.g., my_transport: 'in-memory://')
#                # For more Messenger testing tools, see https://github.com/zenstruck/messenger-test
#                async: 'in-memory://'
